scriptencoding utf-8
set noexrc
set secure
set shell=/bin/sh

if 1
    fun! ProfileStart()
        let profile_file = '/tmp/vim.'.getpid().'.profile.txt'
        echom "Profiling into" profile_file
        exec 'profile start '.profile_file
        profile! file **
        profile  func *
    endfun
    if get(g:, 'profile')
        call ProfileStart()
    endif
endif

if has('vim_starting') && has('reltime')
    let g:startuptime = reltime()
    augroup vimrc-startuptime
        autocmd! VimEnter * let g:startuptime = reltime(g:startuptime)
                    \ | redraw
                    \ | echomsg 'startuptime: ' . reltimestr(g:startuptime)
    augroup END
endif

if has('vim_starting')
    filetype off
    set nocompatible  "be improved
    set runtimepath+=~/.vim/bundle/neobundle.vim/
	set runtimepath+=/usr/lib/python2.7/site-packages/powerline/bindings/vim
	set runtimepath+=~/.fzf
endif
if has('nvim')
        let &rtp = expand('~/.vim/') . ','
    \        . expand('~/.vim/after/') . ',' . &rtp
    runtime! plugin/python_setup.vim
endif

call neobundle#begin(expand('~/.vim/bundle/'))
if neobundle#load_cache()
    source ~/.vim/00-bundlelist.vim
    NeoBundleSaveCache
endif
call neobundle#end()
syntax on
filetype plugin indent on

NeoBundleCheck

source ~/.vim/00-functions.vim
source ~/.vim/01-settings.vim
source ~/.vim/02-keymaps.vim
source ~/.vim/03-plugins-config.vim
source ~/.vim/04-autocmds.vim
source ~/.vim/21-langmap.vim
