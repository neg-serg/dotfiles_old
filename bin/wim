#!/bin/sh
wim_font="xft:PragmataPro for Powerline:pixelsize=20,xft:dejavu sans mono:size=16:antialias=true"
if [[ `wmctrl -l|awk '{ $1=""; $2=""; $3=""; print $0 }'|grep vim` != "   tmux:1 [ vim ]"  ]] && [[ -z $(pidof vim) ]]; then
    urxvtc -fn "${wim_font}" -name 'wim' -e zsh -i -c 'tmux -S ~/1st_level/vim.socket new -s vim -n vim vim\ \-\-servername\ VIM'
else
    urxvt -fn "${wim_font}" -name 'wim' -e zsh -i -c 'tmux -S ~/1st_level/vim.socket attach-session -d -t vim'
fi
