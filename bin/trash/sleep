#! /bin/bash

set $*

case "$1" in
    button/power)
  case "$2" in
      PBTN|PWRF) echo "disk" > /sys/power/state ; ret=0 ;;
      *) logger -p warning -t acpi "ACPI action $2 in group $1 is not defined" ; ret=1 ;;
  esac
  ;;
    button/lid)
  case "$2" in
      LID) [[ $3 == "close" ]] && echo "mem" > /sys/power/state ; ret=0 ;;
      *) logger -p warning -t acpi "ACPI action $2 in group $1 is not defined" ; ret=1 ;;
  esac
  ;;
    button/sleep)
  case "$2" in
      SBTN) echo "mem" > /sys/power/state ; ret=0 ;;
      *) logger -p warning -t acpi "ACPI action $2 in group $1 is not defined" ; ret=1 ;;
  esac
  ;;
    ac_adapter)
        case "$2" in
            AC*)
                case "$4" in
                    00000000) logger -t acpi "Adapter $2 is off now" ;;
                    00000001) logger -t acpi "Adapter $2 is on now" ;;
                esac
                ;;
            *) logger -p warning -t acpi "ACPI action $2 in group $1 in not defined" ;;
        esac
        ;;
    battery)
        case "$2" in
            BAT*)
                case "$4" in
                    00000000) logger -t acpi "Battery $2 is offline" ;;
                    00000001) logger -t acpi "Battery $2 is online" ;;
                esac
                ;;
            *) logger -p warning -t acpi "ACPI action $2 in group $1 in not defined" ;;
        esac
        ;;  
    *) logger -p warning -t acpi "ACPI group $1 is not defined" ; ret=1 ;;
esac

exit $ret
